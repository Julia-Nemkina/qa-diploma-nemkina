ОПИСАНИЕ ВЕБ-СЕРВИСА

Веб-сервис предлагает купить тур по определённой цене двумя способами:

Обычная оплата по дебетовой карте.
Уникальная технология: выдача кредита по данным банковской карты.

Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:
сервису платежей, далее Payment Gate;
кредитному сервису, далее Credit Gate.
Приложение в собственной СУБД должно сохранять информацию о том, успешно ли был совершён платёж и каким способом. Данные карт при этом сохранять не допускается.

Заявлена поддержка двух СУБД:
MySQL;
PostgreSQL.

ИНСТРУКЦИЯ ПО ЗАПУСКУ ТЕСТИРОВАНИЯ

Предусловия:
Установлено ПО: Git Bash, IntelliJ IDEA и Docker Desktop, DBeaver.

Последовательность действий:
1.  Клонировать репозиторий дипломного проекта на компьютер через команду 
"git clone https://github.com/Julia-Nemkina/qa-diploma-nemkina.git" в терминале Git Bash.
2.  Открыть скопированный проект в IntelliJ IDEA.
3. Выбрать базу данных для запуска автотестов:
3.1. Открыть файл build.gradle.
3.2. Выбрать одну из двух баз данных, вторую "закомментировать", добавив "//" в начале строки с описанием.
3.3. Открыть файл application.properties.
3.4. Найти в коде выбранную базу данных, вторую "закомментировать" знаком "#" в начале строки с описанием. 
4. Запустить Docker Desktop. 
5. В терминале IntelliJ IDEA запустить контейнеры командой "docker-compose up".
6. Дождаться, пока в терминале появится информация по каждому контейнеру:
• для mysql: [Server] X Plugin ready for connections;
• для postgres: database system is ready to accept connections;
• для gate-simulator информация для тестирования:
[
{ number: '4444 4444 4444 4441', status: 'APPROVED' },
{ number: '4444 4444 4444 4442', status: 'DECLINED' }
]
7. Открыть новую вкладку в терминале IntelliJ IDEA. 
8. Запустить файл aqa-shop.jar командой:
- для mysql:
java "-Dspring.datasource.url=jdbc:mysql://localhost:3306/app" -jar aqa-shop.jar
- для postgresql:
java "-Dspring.datasource.url=jdbc:postgresql://localhost:5432/app" -jar aqa-shop.jar
9. Запустить "DBeaver" и создать подключение к mysql или postgresql (данные для подключения - порт, имя БД, пользователь, пароль - взять из файла docker-compose.yml).
10. Открыть новую вкладку в терминале IntelliJ IDEA.
11. Запустить тестирование командой:
- для mysql:
./gradlew clean test "-Ddb.url=jdbc:mysql://localhost:3306/app"
- для postgresql:
./gradlew clean test "-Ddb.url=jdbc:postgresql://localhost:5432/app"
12. Открыть новую вкладку в терминале IntelliJ IDEA. 
13. Сформировать отчёт по тестированию командой ./gradlew allureReport .
14. Завершить работу:
- остановить работу приложения командой Ctrl+C или закрыть окно терминала, в котором оно было запущено;
- остановить контейнер командой docker-compose down или командой Ctrl+C в окне терминала, в котором он был запущен.